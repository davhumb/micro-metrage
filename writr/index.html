<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>writr – Générateur d’idées narratives</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=EB+Garamond:700,400&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background: #eab5a6;
        }
        body {
            font-family: 'EB Garamond', Garamond, 'Times New Roman', serif;
            color: #26304c;
            min-height: 100vh;
        }
        .frame-container {
            position: relative;
            max-width: 600px;
            width: 96vw;
            margin: 2.5rem auto 2rem auto;
            min-height: 730px;
        }
        .frame-svg {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        .content-in-frame {
            position: relative;
            z-index: 1;
            padding: 2.5rem 3.7rem 2.5rem 3.7rem;  /* padding latéral bien large ! */
            box-sizing: border-box;
            min-height: 640px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .logo-writr {
            display: block;
            margin: 0 auto 1.2rem auto;
            max-width: 85px;
            width: 28vw;
            height: auto;
        }
        h2 {
            text-align: center;
            font-size: 1.13rem;
            color: #7e5d7c;
            margin: 0.3em 0 1.8em 0;
            font-weight: 400;
            font-family: 'EB Garamond', serif;
            letter-spacing: 0.3px;
        }
        .blocbuster-box {
            background: #f5ded5;
            border: 1.6px solid #26304c;
            border-radius: 14px;
            box-shadow: 0 2px 12px #9a788855;
            margin: 1.2rem 0 1.2rem 0;
            width: 100%;
            max-width: 360px;    /* Largeur max strictement contrôlée */
            padding: 1.3rem 1.1rem 1.1rem 1.1rem;
            font-size: 1.12rem;
            min-height: 90px;
            box-sizing: border-box;
            transition: box-shadow 0.3s;
            animation: fadeIn 0.8s;
            overflow-wrap: break-word;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px);}
            to { opacity: 1; transform: translateY(0);}
        }
        .category-label {
            display: block;
            font-size: 1.01em;
            font-weight: 700;
            color: #7e5d7c;
            margin-bottom: 0.25em;
            letter-spacing: 1.1px;
            text-transform: uppercase;
            font-family: 'EB Garamond', serif;
        }
        .abstraction {
            font-size: 1em;
            color: #7b5c49;
            font-style: italic;
            margin-bottom: 0.95em;
        }
        .consigne-text {
            color: #26304c;
            font-size: 1.13em;
            line-height: 1.5;
            margin: 0.3em 0 0.2em 0;
            font-family: 'EB Garamond', serif;
            font-weight: 400;
        }
        button {
            background: #7e5d7c;
            color: #fff;
            border: none;
            padding: 0.92rem 2rem;
            font-size: 1.09rem;
            border-radius: 14px;
            box-shadow: 0 2px 10px #7b5c4929;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            margin: 1.2rem 0 0 0;
            display: block;
            width: 100%;
            max-width: 360px;  /* Bouton JAMAIS plus large que la carte ! */
            box-sizing: border-box;
            transition: background 0.18s, transform 0.10s;
        }
        button:active {
            background: #26304c;
            color: #fff;
            transform: scale(0.98);
        }
        footer {
            text-align: center;
            font-size: 1rem;
            color: #7e5d7c;
            margin: 2.5rem 0 1.3rem 0;
            font-family: 'EB Garamond', serif;
        }
        @media (max-width: 700px) {
            .frame-container { max-width: 99vw; width: 99vw; min-height: 420px;}
            .content-in-frame { padding: 1.1rem 0.8rem 1rem 0.8rem; min-height: 330px;}
            .blocbuster-box, button { width: 100%; max-width: 99vw; }
            h2 { font-size: 1.03rem; margin-bottom: 1.2em;}
        }
    </style>
</head>
<body>
    <div class="frame-container">
        <!-- SVG Liseré double cadre à coins droits façon couverture d’ancien livre -->
        <svg class="frame-svg" viewBox="0 0 600 850" width="100%" height="100%" preserveAspectRatio="none">
            <rect x="12" y="12" width="576" height="826" stroke="#26304c" stroke-width="5" fill="none"/>
            <rect x="32" y="32" width="536" height="786" stroke="#26304c" stroke-width="2.5" fill="none"/>
            <polyline points="12,42 12,12 42,12" stroke="#26304c" stroke-width="5" fill="none"/>
            <polyline points="588,42 588,12 558,12" stroke="#26304c" stroke-width="5" fill="none"/>
            <polyline points="12,808 12,838 42,838" stroke="#26304c" stroke-width="5" fill="none"/>
            <polyline points="588,808 588,838 558,838" stroke="#26304c" stroke-width="5" fill="none"/>
        </svg>
        <div class="content-in-frame">
            <img src="logo-writr.png" alt="Logo writr" class="logo-writr">
            <h2>Générateur d’idées narratives</h2>
            <div id="idea" class="blocbuster-box">
                Clique sur le bouton pour générer une idée.
            </div>
            <button id="generate-btn">Générer une idée</button>
        </div>
    </div>
    <footer>
        © 2025 writr — Fabriqué avec ❤️
    </footer>
    <script>
        const consignes = [
            {categorie: "Introspection", abstraction: "concret", consigne: "Votre narrateur relie un souvenir à sa situation présente."},
            {categorie: "Structure", abstraction: "intermédiaire", consigne: "Commencez la scène par une question sans réponse."},
            {categorie: "Sensoriel", abstraction: "concret", consigne: "Décrivez l’odeur dominante dans la pièce et ce qu’elle évoque chez le personnage."},
            {categorie: "Dialogue", abstraction: "concret", consigne: "Faites intervenir un dialogue qui tourne en rond, sans avancer."},
            {categorie: "Action", abstraction: "concret", consigne: "Quelqu’un fait irruption et interrompt la scène."},
            {categorie: "Personnage", abstraction: "concret", consigne: "Donnez à un personnage un tic ou une manie soudaine."},
            {categorie: "Émotion", abstraction: "intermédiaire", consigne: "Mettez l’accent sur ce que ressent le personnage… mais sans jamais nommer l’émotion."},
            {categorie: "Structure", abstraction: "abstrait", consigne: "Inversez la cause et la conséquence."},
            {categorie: "Sensoriel", abstraction: "concret", consigne: "Décrivez la température de la scène : chaud, froid, moite, et son effet sur les corps."},
            {categorie: "Rythme", abstraction: "abstrait", consigne: "Accélérez le rythme, puis cassez-le d’un coup."},
            {categorie: "Action", abstraction: "concret", consigne: "Un personnage fait tomber ou casse un objet important."},
            {categorie: "Introspection", abstraction: "abstrait", consigne: "Laissez un blanc, un silence, une absence de mots."},
            {categorie: "Structure", abstraction: "intermédiaire", consigne: "Racontez la scène à la deuxième personne du singulier (« tu »)."},
            {categorie: "Sensoriel", abstraction: "concret", consigne: "Un son ou une musique parasite l’attention des personnages."},
            {categorie: "Structure", abstraction: "abstrait", consigne: "Écrivez la scène comme si c’était la dernière de l’histoire."},
            {categorie: "Twist", abstraction: "intermédiaire", consigne: "Révélez qu’un personnage ment, mais sur un détail sans importance apparente."},
            {categorie: "Dialogue", abstraction: "concret", consigne: "Faites prononcer une phrase absurde à un personnage."},
            {categorie: "Ambiance", abstraction: "abstrait", consigne: "Traitez la scène comme un rêve ou une hallucination."},
            {categorie: "Personnage", abstraction: "intermédiaire", consigne: "Faites changer un personnage d’avis au milieu de la scène, sans raison claire."},
            {categorie: "Action", abstraction: "concret", consigne: "Faites commencer la scène par un accident minuscule."},
        ];
        function afficherConsigne() {
            if (consignes.length === 0) return;
            const index = Math.floor(Math.random() * consignes.length);
            const c = consignes[index];
            document.getElementById('idea').innerHTML = `
                <span class="category-label">${c.categorie}</span>
                <div class="abstraction">${c.abstraction}</div>
                <div class="consigne-text">${c.consigne}</div>
            `;
            document.getElementById('idea').style.animation = "none";
            void document.getElementById('idea').offsetWidth;
            document.getElementById('idea').style.animation = "fadeIn 0.8s";
        }
        document.getElementById('generate-btn').addEventListener('click', afficherConsigne);
        afficherConsigne();
    </script>
</body>
</html>
