<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Générateur de noms de personnages</title>
    <script src="noms.js"></script>
    <style>
        body { font-family: 'Georgia', serif; background: #e9ddc4; }
        .container {
            max-width: 400px; margin: 40px auto; background: #f7f0e2; border-radius: 20px; box-shadow: 0 0 10px #b0a48a;
            padding: 2rem; text-align: center;
        }
        h1 { font-size: 2rem; margin-bottom: 1.5rem; }
        .choices { margin-bottom: 1.2rem; }
        label { margin: 0 1rem; }
        .result { font-size: 1.4rem; margin-top: 2rem; font-weight: bold; }
        .error { color: #b34c4c; font-weight: bold; margin-top: 2rem; }
        button { font-size: 1.2rem; padding: 0.5rem 2rem; border-radius: 8px; border: none; background: #533a25; color: #fff; margin-top: 1.2rem; }
        button:hover { background: #7e6142; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Générateur de noms de personnages</h1>
        <div class="choices">
            <div>
                <label><input type="radio" name="categorie" value="fr" checked> Français</label>
                <label><input type="radio" name="categorie" value="en"> Anglo-saxon</label>
                <label><input type="radio" name="categorie" value="insolite"> Original</label>
            </div>
            <div style="margin-top: 1rem;">
                <label><input type="radio" name="genre" value="masculin" checked> Masculin</label>
                <label><input type="radio" name="genre" value="féminin"> Féminin</label>
            </div>
        </div>
        <button onclick="genererNom()">Générer</button>
        <div id="resultat" class="result"></div>
        <div id="erreur" class="error" style="display:none"></div>
    </div>
    <script>
        function genererNom() {
            const categorie = document.querySelector('input[name="categorie"]:checked').value;
            const genre = document.querySelector('input[name="genre"]:checked').value;

            try {
                // Prénom
                const prenoms = data.prenoms[categorie][genre];
                // Nom
                const noms = data.noms[categorie];

                if (!prenoms || prenoms.length === 0 || !noms || noms.length === 0) {
                    throw "Erreur : impossible de générer ce nom.";
                }

                const prenom = prenoms[Math.floor(Math.random() * prenoms.length)];
                const nom = noms[Math.floor(Math.random() * noms.length)];

                document.getElementById('resultat').innerText = prenom + " " + nom;
                document.getElementById('erreur').style.display = "none";
            } catch (e) {
                document.getElementById('resultat').innerText = "";
                document.getElementById('erreur').style.display = "block";
                document.getElementById('erreur').innerText = "Erreur : impossible de générer ce nom.";
            }
        }
    </script>
</body>
</html>
